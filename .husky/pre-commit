#!/bin/sh
set -e

# Lint-staged handles lint+format on staged files
npx lint-staged

# Typecheck the project (JS allowed via tsconfig)
npm run typecheck --silent

# Run unit tests in CI mode (headless, non-watch) with full output
# For speed, this runs full test suite; can be optimized later to find related tests.
npm run test:ci
